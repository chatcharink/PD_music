<% is_user_logged_in? %>

<div class="h-100" data-controller="user">
    <div class="border-bottom">
        <h5 class="title-menu ms-3 my-3 d-inline-block">User</h5>
        <% if can_view_menu?([40]) %>
            <%= link_to new_user_path(), class: "btn btn-primary float-end me-3 mt-2" do %>
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-person-plus" viewBox="0 0 16 16">
                    <path d="M6 8a3 3 0 1 0 0-6 3 3 0 0 0 0 6m2-3a2 2 0 1 1-4 0 2 2 0 0 1 4 0m4 8c0 1-1 1-1 1H1s-1 0-1-1 1-4 6-4 6 3 6 4m-1-.004c-.001-.246-.154-.986-.832-1.664C9.516 10.68 8.289 10 6 10s-3.516.68-4.168 1.332c-.678.678-.83 1.418-.832 1.664z"/>
                    <path fill-rule="evenodd" d="M13.5 5a.5.5 0 0 1 .5.5V7h1.5a.5.5 0 0 1 0 1H14v1.5a.5.5 0 0 1-1 0V8h-1.5a.5.5 0 0 1 0-1H13V5.5a.5.5 0 0 1 .5-.5"/>
                </svg> Add user
            <% end %>
        <% end %>
    </div>

    <div class="filter-data">
        <%= render partial: "filter" %>
    </div>
    <div class="div-user-table div-table-user m-auto">
        <%= render partial: "table" %>
    </div>

    <div class="modal fade" id="deleteUserModal" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="deleteUserLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="deleteUserLabel">Delete user</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <span>Are you want to delete user <span id="delete-user-name"></span></span>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-danger text-white" id="confirm-delete-user" data-action="click->user#deleteSubject">Delete</button>
                <button type="button" class="btn btn-outline-primary" id="close-confirm-delete-user" data-bs-dismiss="modal">Close</button>
            </div>
            </div>
        </div>
    </div>
</div>